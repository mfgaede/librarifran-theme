<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>BlueSky Comments as a Minimal Mistakes Custom Comment Provider for Jekyll - Franny Gaede</title>
<meta name="description" content="I‚Äôve wanted a comments system for several years, but Discus has way too many privacy issues and I had a knee-jerk ‚Äúnot GitHub!‚Äù to utteranc.es and its ilk.">


  <meta name="author" content="Franny Gaede">
  
  <meta property="article:author" content="Franny Gaede">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Franny Gaede">
<meta property="og:title" content="BlueSky Comments as a Minimal Mistakes Custom Comment Provider for Jekyll">
<meta property="og:url" content="http://localhost:4000/posts/2025/02/05/bluesky-comments.html">


  <meta property="og:description" content="I‚Äôve wanted a comments system for several years, but Discus has way too many privacy issues and I had a knee-jerk ‚Äúnot GitHub!‚Äù to utteranc.es and its ilk.">







  <meta property="article:published_time" content="2025-02-05T09:00:00-08:00">






<link rel="canonical" href="http://localhost:4000/posts/2025/02/05/bluesky-comments.html">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "",
      "url": "http://localhost:4000/"
    
  }
</script>







<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Franny Gaede Feed">


<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">



    <!-- start custom head snippets -->
<!-- Add Font Awesome CDN -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
<link rel="stylesheet" href="https://unpkg.com/bluesky-comments@0.9.0/dist/bluesky-comments.css">
<script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/stable/react@18.2.0/es2022/react.mjs",
    "react-dom": "https://esm.sh/stable/react-dom@18.2.0/es2022/react-dom.mjs",
    "react-dom/client": "https://esm.sh/stable/react-dom@18.2.0/es2022/client.mjs",
    "bluesky-comments": "https://unpkg.com/bluesky-comments@0.9.0/dist/bluesky-comments.es.js"
  }
}
</script>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap')
</style>



<!-- insert favicons. use https://realfavicongenerator.net/ -->
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
<!-- end custom head snippets -->

  </head>

  <body class="layout--single single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to Primary Navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to Content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to Footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Franny Gaede
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/">Home</a>
            </li><li class="masthead__menu-item">
              <a href="/blog/">Blog</a>
            </li><li class="masthead__menu-item">
              <a href="/defaults/">Defaults</a>
            </li><li class="masthead__menu-item">
              <a href="/now/">Now</a>
            </li><li class="masthead__menu-item">
              <a href="/cv/">CV</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle Search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle Menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      




<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="http://localhost:4000/">
        <img src="/assets/img/profile2024.jpg" alt="Franny Gaede" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
<!----    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="http://localhost:4000/" itemprop="url">Franny Gaede</a>
    </h3> ---->
    
      <div class="author__bio p-note" itemprop="description">
        <p>she / her / hers</p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse"> </button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">eugene, or</span>
        </li>
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
    
      
      
      
      
    
    
      

<nav class="nav__list">
  
  <input id="ac-toc" name="accordion-toc" type="checkbox" />
  <label for="ac-toc">Toggle Menu</label>
  <ul class="nav__items">
    
      <li>
        
          <span class="nav__sub-title">Blog</span>
        

        
        <ul>
          
            <li><a href="/categories/posts/">üíª Posts</a></li>
          
            <li><a href="/categories/work/">üíº Work</a></li>
          
            <li><a href="/categories/photos/">üì∑ Photos</a></li>
          
            <li><a href="/categories/links/">üîó Links</a></li>
          
            <li><a href="/categories/music/">üéµ Music</a></li>
          
            <li><a href="/categories/videos/">üìΩÔ∏è Videos</a></li>
          
            <li><a href="/categories/art/">üé® Art</a></li>
          
        </ul>
        
      </li>
    
  </ul>
</nav>

    
  
  </div>


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="BlueSky Comments as a Minimal Mistakes Custom Comment Provider for Jekyll">
    <meta itemprop="description" content="I‚Äôve wanted a comments system for several years, but Discus has way too many privacy issues and I had a knee-jerk ‚Äúnot GitHub!‚Äù to utteranc.es and its ilk.">
    <meta itemprop="datePublished" content="2025-02-05T09:00:00-08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="http://localhost:4000/posts/2025/02/05/bluesky-comments.html" itemprop="url">BlueSky Comments as a Minimal Mistakes Custom Comment Provider for Jekyll
</a>
          </h1>
          


        </header>
      

      <section class="page__content" itemprop="text">
        
        <p>I‚Äôve wanted a comments system for several years, but Discus has way too many privacy issues and I had a knee-jerk ‚Äúnot GitHub!‚Äù to utteranc.es and its ilk.</p>

<p>Last night, I found <a href="https://www.coryzue.com/writing/bluesky-comments/">Cory Zoe‚Äôs 5 minute guide to adding BlueSky-powered comments to any website.</a> It, er, took me significantly longer than five minutes to implement, but it is looking and functioning the way I want it to and I think I understand it well enough to be able to explain it to those like me who couldn‚Äôt dream of doing this from scratch, but know enough to want to implement it and break it terribly and repeatedly.</p>

<p>First step is to install the library:</p>

<div class="code-header"><figure class="code-block" data-language="">
  <pre tabindex="0"><code class="language-"></code></pre>
    <button class="copy-code-button">
      Copy
    </button>
</figure>
</div>
<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">    npm install bluesky-comments
</span></code></pre></div></div>

<p>I moved the folder (node_modules) into the assets folder, so now I have my_folder/assets/node_modules.</p>

<p>In my _config.yml file, I turned on comments for posts:</p>

<div class="code-header"><figure class="code-block" data-language="">
  <pre tabindex="0"><code class="language-"></code></pre>
    <button class="copy-code-button">
      Copy
    </button>
</figure>
</div>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="na">defaults</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">scope</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s2">"</span><span class="s">"</span>
            <span class="na">type</span><span class="pi">:</span> <span class="s2">"</span><span class="s">posts"</span>
        <span class="na">values</span><span class="pi">:</span>
            <span class="na">layout</span><span class="pi">:</span> <span class="s">single</span>
            <span class="na">comments</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>

<p>And I set my comments provider to ‚Äúcustom‚Äù</p>

<div class="code-header"><figure class="code-block" data-language="">
  <pre tabindex="0"><code class="language-"></code></pre>
    <button class="copy-code-button">
      Copy
    </button>
</figure>
</div>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="na">comments</span><span class="pi">:</span>
        <span class="na">provider</span><span class="pi">:</span> <span class="s2">"</span><span class="s">custom"</span>
</code></pre></div></div>

<p>In the _layouts/single.html from Minimal Mistakes, comments are located on lines 68-76. I wanted them to appear after the date but before the previous / next navigation buttons, so I moved them to <code class="language-html highlighter-rouge"><span class="nt">&lt;footer</span> <span class="na">class=</span><span class="s">"page__meta&gt;</span></code>.</p>

<p>Comments are disabled on test servers by Minimal Mistakes, so I removed that bit. If you want to re-enable it, you‚Äôll want to wrap the <code class="language-html highlighter-rouge"><span class="nt">&lt;div&gt;</span></code> in</p>

<div class="code-header"><figure class="code-block" data-language="">
  <pre tabindex="0"><code class="language-"></code></pre>
    <button class="copy-code-button">
      Copy
    </button>
</figure>
</div>
<div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="cp">{%</span><span class="w"> </span><span class="nt">if</span><span class="w"> </span><span class="nv">page</span><span class="p">.</span><span class="nv">comments</span><span class="w"> </span><span class="cp">%}</span>
        &lt;div class="page__comments"&gt;
            <span class="cp">{%</span><span class="w"> </span><span class="nt">include</span><span class="w"> </span>comments-providers/custom.html<span class="w"> </span><span class="cp">%}</span>
        &lt;/div&gt;
    <span class="cp">{%</span><span class="w"> </span><span class="nt">endif</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div>

<p>I added the CSS to _includes/head/custom.html:</p>

<div class="code-header"><figure class="code-block" data-language="">
  <pre tabindex="0"><code class="language-"></code></pre>
    <button class="copy-code-button">
      Copy
    </button>
</figure>
</div>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://unpkg.com/bluesky-comments@0.9.0/dist/bluesky-comments.css"</span><span class="nt">&gt;</span>
</code></pre></div></div>

<p>I used Cory Zoe‚Äôs code as a base and used Claude in Copilot to develop _includes/comment-providers/custom.html. Before you use this, make sure you update your username! It‚Äôs in big friendly letters ‚ÄúYOUR.USERNAME.HERE‚Äù</p>

<script src="https://gist.github.com/mfgaede/1dadb849bb362f7364db7eb248dc7343.js"></script>

<p>For comments to show up, you need to include</p>

<div class="code-header"><figure class="code-block" data-language="">
  <pre tabindex="0"><code class="language-"></code></pre>
    <button class="copy-code-button">
      Copy
    </button>
</figure>
</div>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="na">bluesky_post_uri</span><span class="pi">:</span> <span class="s2">"</span><span class="s">https://bsky.app/profile/YOUR.USERNAME.HERE.bsky.social/post/POSTIDHERE"</span>
</code></pre></div></div>

<p>in the YAML for your post. If there is no URI, nothing will show. If there is no post activity, the comments section, but look like this (with your colors, fonts, etc.):</p>

<figure class="">
  <img src="/assets/img/comment_shot.png" alt="" /></figure>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-02-05T09:00:00-08:00">February 5, 2025</time></p>

        
        <div class="page__comments">
          <div id="page__comments" style="min-height: 100px;">
    
        <div id="loading">Loading comments...</div>
    
</div>

<script type="module">
    
    try {
        const modules = await Promise.all([
            import('https://esm.sh/stable/react@18.2.0/es2022/react.mjs'),
            import('https://esm.sh/stable/react-dom@18.2.0/es2022/react-dom.mjs'),
            import('https://unpkg.com/bluesky-comments@0.9.0/dist/bluesky-comments.es.js')
        ]);
        
        const [React, ReactDOM, BlueskyCommentsModule] = modules;
        const BlueskyComments = BlueskyCommentsModule.BlueskyComments;
        const container = document.getElementById('page__comments');
        const uri = "https://bsky.app/profile/librarifran.bsky.social/post/3lhifudavc22e";
        
        if (container && uri) {
            const root = ReactDOM.createRoot(container);
            
            const EmptyState = () => {
                console.log('Rendering empty state');
                return React.createElement('div', {
                    className: 'notice notice--info',
                    style: { padding: '1em', margin: '1em 0' }
                }, 'Be the first to comment on this post!');
            };
            
            const element = React.createElement(BlueskyComments, {
                uri,
                author: "librarifran.bsky.social",
                showLogin: true,
                onLoad: () => document.getElementById('loading')?.remove(),
                onEmpty: EmptyState
            });
            
            root.render(element);
            console.log('BlueskyComments mounted with URI:', uri);
        }
    } catch (error) {
        console.error('Error loading comments:', error);
        document.getElementById('page__comments').innerHTML = 
            `<div class="notice notice--danger" style="padding: 1em; margin: 1em 0">Unable to load comments. Please try again later.</div>`;
    }
    
</script>
        </div>
      
      </footer>

      

      
  <nav class="pagination">
    
      <a href="/photos/2025/02/03/kaiju.html" class="pagination--pager" title="Kaiju
">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>

    </div>

  </article>
  <script src="/assets/js/copyCode.js"></script>
  
  
</div>
      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong> </strong></li>
    

    
      
        
          <li><a href="mailto:mfgaede@gmail.com" rel="nofollow noopener noreferrer"><i class="fa-solid fa-envelope" aria-hidden="true"></i> Email</a></li>
        
      
        
          <li><a href="https://bsky.app/profile/librarifran.bsky.social" rel="nofollow noopener noreferrer"><i class="custom-bluesky" aria-hidden="true"></i> Bluesky</a></li>
        
      
        
          <li><a href="https://hcommons.social/@librarifran" rel="nofollow noopener noreferrer"><i class="fa-brands fa-mastodon" aria-hidden="true"></i> Mastodon</a></li>
        
      
        
          <li><a href="https://github.com/mfgaede" rel="nofollow noopener noreferrer"><i class="fa-brands fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2025 Franny Gaede, licensed under <u><a href="https://creativecommons.org/licenses/by-nc/4.0/"">cc by-nc 4.0</a></u>. Powered by <u><a href="https://jekyllrb.com" rel="nofollow">jekyll</a></u> &amp; <u><a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">minimal mistakes</a></u>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




    <!-- start custom comments scripts -->

<!-- end custom comments scripts -->





  </body>
</html>
